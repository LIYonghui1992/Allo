<include file="Home:nav" />
<div class="fmian">
	<div class="layout_list">
		
		<div class="design_main" style="margin-top:30px;">
			
			<!-- display:none; -->
			<div id="msgbox" style="display:none;margin:0px auto;width:1080px;height:50px;margin-top:20px;border:1px solid #e60012;
				background-color:#fff4f9;">
				<div style="width:23px;height:23px;margin-top:15px;margin-left:10px;float:left;">
					<img src="../Public/image/error.jpg" style="width:23px;height:23px;"/>
				</div>
				<div style="height:23px;margin-top:17px;margin-left:15px;float:left;">
					<font id="msg" style="font-size:12px;font-weight:bold;color:#e60012;"></font>
				</div>
				
			</div>
			
			<form method="post" enctype="multipart/form-data">
			<div id="shipping-2" style="margin:0px auto;width:1080px;height:2200px;margin-top:10px;margin-bottom:300px;"> 
				
				<div class="shipping-div" style="margin-top:15px;">
					<font style="font-size:14px;font-weight:bold;font-color:#666666;">Your idea</font>
				</div>
				
				<div class="shipping-div"> 
					<div class="shipping-field"><font class="item_font" >Project title*</font></div>
					<input name="project_title" id="project_title" type="text" class="shipping-input"  value="Your project title"  
					onfocus="if (value =='Your project title'){value ='';this.style.color='#333'}" onblur="if (value ==''){value='Your project title';this.style.color='#999'}"/>
				</div>
				
				
				<div class="shipping-div"> 
					<div class="shipping-field"><font class="item_font">Name*</font></div>
					<input name="firstname" id="firstname"  type="text" class="shipping-input" style="width:238px;" value="First Name"
					 onfocus="if (value =='First Name'){value ='';this.style.color='#333'}" onblur="if (value ==''){value='First Name';this.style.color='#999'}" />
					<input name="lastname" type="text" id="lastname" class="shipping-input" style="width:238px; margin-left:10px;" value="Last Name" 
					onfocus="if (value =='Last Name'){value ='';this.style.color='#333'}" onblur="if (value ==''){value='Last Name';this.style.color='#999'}"/>
				</div>
				
				
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >e-mail*</font></div>
					<input name="email" id="email" type="text" class="shipping-input"  value="your e-mail address" 
					onfocus="if (value =='your e-mail address'){value ='';this.style.color='#333'}" onblur="if (value ==''){value='your e-mail address';this.style.color='#999'}"/>
				</div>
				
			
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Country*</font></div>
					
						<select id="countrylist" class="shipping-input" style="width:512px;" > 
						  <option value="-1">Choose your country</option>
						  
						   <volist name="country_list" id="vo"  >
						   	<option value="{$vo.title}">{$vo.title}</option>
						   </volist>
					  </select>
		
				</div>
				
				<div class="shipping-div" style="height:220px;">
					<div class="shipping-field" ><font class="item_font" >Project description*</font></div>
					<textarea name="project_desc" id="project_desc"  class="shipping-input" style="height:200px;padding-top:15px;"
						onfocus="if (value =='Ca. 150 words'){value ='';this.style.color='#333'}" onblur="if (value ==''){value='Ca. 150 words';this.style.color='#999'}">Ca. 150 words</textarea>
				</div>
				
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Product image*</font></div>
					<input name="product_image" id="project_concept" type="text" class="shipping-input" 
					 <empty name="_COOKIE['allocacoc_product_picname']">value="Uploading your product image(840*640px)" style="width:350px;float:left;" <else/> value={$_COOKIE['allocacoc_product_picname']} style="width:350px;float:left;color:#333;" </empty> readonly="readonly"/>
					<input type="file" id="choosefile5" name="choosefile5" style="display:none;"/>
					<input type="button" class="choose_file" value="choose your file" onclick="javascript:choose_file(5);"/>
				</div>
				
				<div class="shipping-div" style="height:180px;">	
					<div style="height:30px;width:400px;margin-left:80px;"> best for white background</div>			
					<div class="shipping-input" style="height:150px;width:250px;margin-left:80px;">
					  <div style="height:130px;width:230px;margin-left:4px ;margin-top:6px;border:2px dashed #FFF;position:relative; "> 
							<img id="technical_pic" <notempty name="_COOKIE['allocacoc_technical']">src="/design_pics/{$_COOKIE['allocacoc_technical']}" </notempty> style="padding:1px;border:0 #FFF;width:100%;height:100%;<empty name="_COOKIE['allocacoc_technical']">visibility:hidden;</empty>"/>
						  <empty name="_COOKIE['allocacoc_technical']"><div style="position: absolute; z-index: 1;bottom:60px;height:20px;width:100px;left:80px;">840 X 640 px</div></empty>
						</div>						
					</div>
				</div>
				
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Product slider*</font></div>
					<input name="product_slider" id="project_concept" type="text" class="shipping-input" 
					 value="Uploading your image" style="width:350px;float:left;"  readonly="readonly"/>
					<input type="file" id="choosefile6" name="choosefile6" style="display:none;"/>
					<input type="button" class="choose_file" value="choose your file" onclick="javascript:choose_file(6);"/>
				</div>
				
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Concept overview*</font></div>
					<input name="project_concept" id="project_concept" type="text" class="shipping-input"  <empty name="_COOKIE['allocacoc_concept_picname']">value="Uploading concept overview" style="width:350px;float:left;" <else/> value={$_COOKIE['allocacoc_concept_picname']} style="width:350px;float:left;color:#333;" </empty> 
					readonly="readonly"/>
					<input type="file" id="choosefile1" name="choosefile1" style="display:none;"/>
					<input type="button" class="choose_file" value="choose your file" onclick="javascript:choose_file(1);"/>
				</div>
				
				<div class="shipping-div" style="height:350px;">	
					<div style="height:30px;width:400px;margin-left:80px;"> picture size(3840 X 1620px)</div>			
					<div class="shipping-input" style="height:300px;width:400px;margin-left:80px;">
						<div style="height:280px;width:380px;margin-left:4px ;margin-top:6px;border:2px dashed #FFF;"> 
							<img id="concept_pic" <notempty name="_COOKIE['allocacoc_concept']"> src="/design_pics/{$_COOKIE['allocacoc_concept']}" </notempty> style="padding:1px;border:0 #FFF;width:100%;height:100%;<empty name="_COOKIE['allocacoc_concept']">visibility:hidden;</empty>"/>
						</div>
					</div>
				</div>				
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Technical details*</font></div>	
					<input name="tec_detail" id="tec_detail" type="text" class="shipping-input"  <empty name="_COOKIE['allocacoc_technical_picname']">value="Uploading technical details" style="width:350px;float:left;" <else/> value={$_COOKIE['allocacoc_technical_picname']} style="width:350px;float:left;color:#333;" </empty> 
					readonly="readonly" />
					<input type="file" id="choosefile2" name="choosefile2" style="display:none;" />
					<input type="button" class="choose_file"  value="choose your file" onclick="javascript:choose_file(2);"/>
				</div>
				
				<div class="shipping-div" style="height:350px;">	
					<div style="height:30px;width:400px;margin-left:80px;"> picture size(3840 X 1620px)</div>			
					<div class="shipping-input" style="height:300px;width:400px;margin-left:80px;">
					  <div style="height:280px;width:380px;margin-left:4px ;margin-top:6px;border:2px dashed #FFF;"> 
							<img id="technical_pic" <notempty name="_COOKIE['allocacoc_technical']">src="/design_pics/{$_COOKIE['allocacoc_technical']}" </notempty> style="padding:1px;border:0 #FFF;width:100%;height:100%;<empty name="_COOKIE['allocacoc_technical']">visibility:hidden;</empty>"/>
						</div>						
					</div>
				</div>
				<div class="shipping-div">
					<div class="shipping-field"><font class="item_font" >Close-up of key features*</font></div>	
					<input name="project_feature" id="project_feature" type="text" class="shipping-input"  <empty name="_COOKIE['allocacoc_feature_picname']">value="Uploading close-up of key features" style="width:350px;float:left;" <else/> value={$_COOKIE['allocacoc_feature_picname']} style="width:350px;float:left;color:#333;" </empty> 
					readonly="readonly" />
					<input type="file" id="choosefile3" name="choosefile3" style="display:none;" />
					<input type="button" class="choose_file"  value="choose your file" onclick="javascript:choose_file(3);"/>
				</div>
				
				
				<div class="shipping-div" style="height:350px;">	
					<div style="height:30px;width:400px;margin-left:80px;"> picture size(3840 X 1620px)</div>			
					<div class="shipping-input" style="height:300px;width:400px;margin-left:80px;">
						<div style="height:280px;width:380px;margin-left:4px ;margin-top:6px;border:2px dashed #FFF;"> 
							<img id="feature_pic" <notempty name="_COOKIE['allocacoc_feature']">src="/design_pics/{$_COOKIE['allocacoc_feature']}" </notempty> style="padding:1px;border:0 #FFF;width:100%;height:100%;<empty name="_COOKIE['allocacoc_feature']">visibility:hidden;</empty>"/>
						</div>							
					</div>
				</div>
				<div class="shipping-div"> 
					<div class="shipping-field"><font class="item_font">Square thumbnail*</font></div>					
					<input name="thumbnail" id="thumbnail" type="text" class="shipping-input"  <empty name="_COOKIE['allocacoc_thumbnail_picname']">value="Uploading Square thumbnail" style="width:350px;float:left;" <else/> value={$_COOKIE['allocacoc_thumbnail_picname']} style="width:350px;float:left;color:#333;" </empty> 
					readonly="readonly" />
					<input type="file" id="choosefile4" name="choosefile4" style="display:none;" />
					<input type="button" class="choose_file"  value="choose your file" onclick="javascript:choose_file(4);"/>
				</div>
				
				<div class="shipping-div" style="height:80px;">	
					<div style="height:30px;width:400px;margin-left:80px;"> picture size(1000 X 1000px)</div>			
					<div class="shipping-input" style="height:80px;width:80px;margin-left:80px;">
						<div style="height:60px;width:60px;margin-left:4px ;margin-top:6px;border:2px dashed #FFF;"> 
							<img id="thumbnail_pic" <notempty name="_COOKIE['allocacoc_thumbnail']">src="/design_pics/{$_COOKIE['allocacoc_thumbnail']}" </notempty> style="padding:1px;border:0 #FFF;width:100%;height:100%;<empty name="_COOKIE['allocacoc_thumbnail']">visibility:hidden;</empty>"/>
						</div>
						
					
					 <!-- <img id="thumbnail_pic" <notempty name="_COOKIE['allocacoc_thumbnail']">src="/design_pics/{$_COOKIE['allocacoc_thumbnail']}"</notempty> style="width:76px;height:74px;margin:0px auto;border:1px dashed #FFF;"/> -->
					</div>
				</div>
				
				
				<!-- -->
			
		</div> <!-- shipping-2 -->
		
		</form>
		
		
          
		<div  style="width:1080px;height:50px;margin-top:20px;margin-bottom:20px;">
				
  		<div style="height:50px;width:265px;background-color:transparent;background-image: url(../Public/image/checkout_1.1.png);text-align:center;
  		margin-left:80px;" >
  		  <a href="javascript:submit1();" id="buttonhref"> <font style="font-size:16px;color:#FFF;line-height:50px;" id="buttontip"> submit your idea</font> </a> 		
  		</div>				
		</div>	
		<!--
			
		<div  style="width:1080px;height:50px;margin-top:20px;margin-bottom:20px;">
			<a href="javascript:tt();">
  		<input type="submit" onclick="javascript:submit1();" style="height:50px;width:265px;background-color:transparent;background-image: url(/image/checkout_1.1.png);text-align:center;
  		margin-left:80px;font-size:16px;color:#FFF;line-height:50px;" value="submit your idea"/>
  		</a> 		
  					
		</div>	
		-->	
	</div>
	

		
	<!--	<include file="Home:bottom" /> -->


	

		<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
		<script type="text/javascript">
 			$(document).ready(function()
   {		
    		document.getElementById("pathguide").innerHTML += '<img src="../Public/image/arrow_footer.png" style="margin:3px 2px 0px 0px;"/>'
    		+'<a href="{:U(\'Design/index\')}">'+"{$Think.lang.DESIGN_CHALLENGE}"+'</a>'
    		+'<img src="../Public/image/arrow_footer.png" style="margin:3px 2px 0px 2px;"/>'
    		+'<a>submit your design</a>';
    		
    } );
    
    
			$(function() {												
			var concept = $("#concept_pic"); 
    	var btn = $(".btn span");
    	$("#choosefile1").wrap("<form id='myupload1' action=\"{:U('Design/submit_designidea_pic')}\"  method='post' enctype='multipart/form-data'></form>");
    	$("#choosefile2").wrap("<form id='myupload2' action=\"{:U('Design/submit_designidea_pic')}\"  method='post' enctype='multipart/form-data'></form>");
    	$("#choosefile3").wrap("<form id='myupload3' action=\"{:U('Design/submit_designidea_pic')}\"  method='post' enctype='multipart/form-data'></form>");
    	$("#choosefile4").wrap("<form id='myupload4' action=\"{:U('Design/submit_designidea_pic')}\"  method='post' enctype='multipart/form-data'></form>");

      $("#choosefile1").change(function(){
    		$("#myupload1").ajaxSubmit({
    			dataType:  'json',
    			
    			success: function(data) {
    				if(data.status==0){
    					alert(data.msg);
    				}
    				if(data.status==1){
    					//alert(data.name);
    					document.getElementById("project_concept").value = data.name;
    					document.getElementById("project_concept").style.color='#333';	 
    					document.getElementById("concept_pic").src = "http://127.0.0.1/design_pics/"+data.pic;
    					document.getElementById("concept_pic").style.visibility = "visible";
    				}	
    				
    			},
    			error:function(xhr){
    				alert(xhr.responseText);
    			}
    		});
    	});
    	
    	$("#choosefile2").change(function(){
    		
    		$("#myupload2").ajaxSubmit({
    			dataType:  'json',
    			
    			success: function(data) {
    				if(data.status==0){
    					alert(data.msg);
    				}
    				if(data.status==1){
    					//alert(data.pic);
    					document.getElementById("tec_detail").value = data.name;
    					document.getElementById("tec_detail").style.color='#333';	 
    					document.getElementById("technical_pic").src = "http://127.0.0.1/design_pics/"+data.pic;
    					document.getElementById("technical_pic").style.visibility = "visible";
    				}	
    				
    			},
    			error:function(xhr){
    				alert(xhr.responseText);
    			}
    		});
    	});
    	
    	$("#choosefile3").change(function(){
    		$("#myupload3").ajaxSubmit({
    			dataType:  'json',
    			
    			success: function(data) {
    				if(data.status==0){
    					alert(data.msg);
    				}
    				if(data.status==1){
    					//alert(data.pic);
    					document.getElementById("project_feature").value = data.name;
    					document.getElementById("project_feature").style.color='#333';
    					document.getElementById("feature_pic").src = "http://127.0.0.1/design_pics/"+data.pic;
    					document.getElementById("feature_pic").style.visibility = "visible";
    				}	
    				
    			},
    			error:function(xhr){
    				alert(xhr.responseText);
    			}
    		});
    	});
    	
    	$("#choosefile4").change(function(){
    		$("#myupload4").ajaxSubmit({
    			dataType:  'json',
    			
    			success: function(data) {
    				if(data.status==0){
    					alert(data.msg);
    				}
    				if(data.status==1){
    					//alert(data.pic);
    					document.getElementById("thumbnail").value = data.name;
    					document.getElementById("thumbnail").style.color='#333';
    					document.getElementById("thumbnail_pic").src = "http://127.0.0.1/design_pics/"+data.pic;
    					document.getElementById("thumbnail_pic").style.visibility = "visible";
    				}	
    				
    			},
    			error:function(xhr){
    				alert(xhr.responseText);
    			}
    		});
    	});
	

			});					
			
			
			function choose_file(fileid)
			{
				//alert(document.getElementById("choosefile").value);
				
				document.getElementById("choosefile"+fileid).click();  
			
			}
			
			function submit1()
			{
				if(document.getElementById("project_title").value=='' || document.getElementById("project_title").value== 'Your project title')
				{
					 document.getElementById("msg").innerHTML ='project title cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("firstname").value=='' || document.getElementById("firstname").value== 'First Name')
				{
					 document.getElementById("msg").innerHTML ='First Name cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("lastname").value=='' || document.getElementById("lastname").value== 'Last Name')
				{
					 document.getElementById("msg").innerHTML ='Last Name cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("email").value=='' || document.getElementById("email").value== 'your e-mail address')
				{
					 document.getElementById("msg").innerHTML ='your e-mail address cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if (!(/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(document.getElementById("email").value))) {
								document.getElementById("msg").innerHTML = 'Please enter a valid mailbox!';
								document.getElementById("msgbox").style.display="block"; 
								scrollTo(400,300); 
								return false;
				}
							
				if(document.getElementById("project_desc").value=='' || document.getElementById("project_desc").value== 'Ca. 150 words')
				{
					 document.getElementById("msg").innerHTML ='project description  cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("project_concept").value=='' || document.getElementById("project_concept").value== 'Uploading concept overview')
				{
					 document.getElementById("msg").innerHTML ='concept overview cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("tec_detail").value=='' || document.getElementById("tec_detail").value== 'Uploading technical details')
				{
					 document.getElementById("msg").innerHTML ='technical details cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("project_feature").value=='' || document.getElementById("project_feature").value== 'Uploading close-up of key features')
				{
					 document.getElementById("msg").innerHTML ='close-up of key features cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
				if(document.getElementById("thumbnail").value=='' || document.getElementById("thumbnail").value== 'Uploading Square thumbnail')
				{
					 document.getElementById("msg").innerHTML ='Square thumbnail  cannot be empty!';
					 document.getElementById("msgbox").style.display="block"; 
					 scrollTo(400,300);
					 return false;
				}
							 
				
				if(document.getElementById("countrylist").value==-1)
				{ 
					document.getElementById("msg").innerHTML = 'Please choose your country!';
					document.getElementById("msgbox").style.display="block"; 
					scrollTo(400,300); 
					return false;
				}
  						
				if(document.getElementById("project_desc").value=='' || document.getElementById("project_desc").value=='Ca. 150 words' )
				{
					document.getElementById("msg").innerHTML = 'project desc cannot be empty!';
					document.getElementById("msgbox").style.display="block"; 
					scrollTo(400,300); 
					return false;
				}
				
				
				var url = "{:U('Design/submit_designidea')}";
				
				var data =  { project_title: document.getElementById("project_title").value, 
					firstname: document.getElementById("firstname").value,
					lastname: document.getElementById("lastname").value,
					email: document.getElementById("email").value,
					countryid: document.getElementById("countrylist").value,
					project_desc: document.getElementById("project_desc").value};
					
					
					document.getElementById("buttonhref").href='#';
					document.getElementById("buttontip").innerHTML='processing';

				$.post(url,data,function(data){

							if(data.status == 1){							

								//alert('succ');
								
								var window_height = $(window).height();
      					if(window_height<800)
      					{
      						maxHeight=window_height*0.7;
      						_top=0;
      						_width='80%';
      					}else{
      						maxHeight='600px';
      						_top='115px';
      						_width='60%';
      					}
					
								art.dialog({
									title: 'Congratulations!',
									content: 'already submit',
									 lock:true,
									 width: _width,
									 top:_top,
									 style:'succeed noClose',
									 okVal: 'OK',
									 ok:function(){
										window.location = '/Design/index'; 
										}
							 } );
								
							}else{
								document.getElementById("buttonhref").href='javascript:submit1();';
								document.getElementById("buttontip").innerHTML='submit your idea';
								document.getElementById("msg").innerHTML = data.msg;
								document.getElementById("msgbox").style.display="block"; 
								scrollTo(400,300); //alert(data.msg);													
							}
						},"json"); 
						
			}
			
		</script>
		
		
		
		<style type="text/css">		
		.shipping-div{float:left;margin-left:10px;width:600px;padding-top:5px;margin-bottom:5px;color:#999;height:40px;}
		.shipping-field{width:80px;float:left;}
		.shipping-input{padding-left:10px;height:30px;margin:0px auto;width:500px;margin-left:0px;border:1px solid #CCC;
			font-size:12px;color:#999999;background-color:#EEE;}
		
		.choose_file{padding-left:10px;height:30px;margin:0px auto;width:140px;margin-left:10px;border:1px solid #CCC;
			font-size:12px;float:left;color:#FFF;background:#15869f;}
		.item_font{font-size:12px;min-width:50px;		}
			
		</style>
		